本实验将实现如下功能：本章我们在UCOSII里面创建7个任务：开始任务、LED任务、触摸屏任务、队列消息显示任务、信号量集任务、按键扫描任务和主任务，开始任务用于创建邮箱、消息队列、信号量集以及其他任务，之后挂起；触摸屏任务用于在屏幕上画图，测试CPU使用率；队列消息显示任务请求消息队列，在得到消息后显示收到的消息数据；信号量集任务用于测试信号量集，采用OS_FLAG_WAIT_SET_ANY的方法，任何按键按下（包括TPAD），该任务都会控制蜂鸣器发出“滴”的一声；按键扫描任务用于按键扫描，优先级最高，将得到的键值通过消息邮箱发送出去；主任务创建3个软件定时器（定时器1，100ms溢出一次，显示CPU和内存使用率；定时2，200ms溢出一次，在固定区域不停的显示不同颜色；定时3，,100ms溢出一次，用于自动发送消息到消息队列），并通过查询消息邮箱获得键值，根据键值执行DS1控制、控制软件定时器3的开关、触摸区域清屏、触摸屏校和软件定时器2的开关控制等。 

    通过按KEY0，可以控制DS1的亮灭；
    通过按KEY1则可以启动tmr3控制消息队列发送，可以在LCD上面看到Q和MEM的值慢慢变大（说明队列消息在增多，占用内存也随着消息增多而增大），在QUEUE MSG区，开始显示队列消息，再按一次KEY1停止tmr3，此时可以看到Q和MEM逐渐减小。当Q值变为0的时候，QUEUE MSG也停止显示（队列为空）。
    通过KEY2按键，清除TOUCH区域的输入。
    通过KEY_UP按键，可以进行触摸屏校准。
    通过TPAD按键，可以启动/停止tmr2，从而控制屏幕的刷新。



注意：
1，本实验改自内存管理实验。
2，本实验使用ucosii版本为V2.91。


               	正点原子@ALIENTEK
               	2014-10-24
		广州市星翼电子科技有限公司
                电话：020-38271790
                传真：020-36773971
	       	购买： http://shop62057469.taobao.com
                公司网站：www.alientek.com
         	技术论坛：www.openedv.com
              